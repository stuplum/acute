/*! acute - v0.5.0 - 2015-04-22
* Copyright (c) 2015 stuplum <stuplum@gmail.com>; Licensed  */

!function(){"use strict";angular.module("acute.utils",["acute.assert","acute.clientStore","acute.clndr","acute.filters","acute.gravatar","acute.markdown","acute.md5","acute.moment","acute.popover","acute.session","acute.string","acute.tether","acute.tooltip","acute.whenReady"]),angular.module("acute.assert.Param",[]).factory("Param",function(){var a=function(){function a(a,b){this.v=b,this.name=a,this._contexts=[null]}function b(a,b){return null==b?!1:"string"==typeof b&&b.length>0}function c(a,b){return null==b?!1:typeof b===a.typeName}function d(a,b){return null==b?!1:b instanceof a.type}function e(a,b){return null==b?!1:void 0!==b[a.propertyName]}function f(a,b){return a.allowNull?void 0!==b:null!=b}function g(a,b){if(null==b)return!0;var c=a.prevContext;return c?c.fn(c,b):!0}function h(a,b){var c=a.prevContext,d=c?" or it "+k(c,b):"";return"is optional"+d}function i(a,b){if(!Array.isArray(b))return!1;if(a.mustNotBeEmpty&&0===b.length)return!1;var c=a.prevContext;return c?b.every(function(a){return c.fn(c,a)}):!0}function j(a,b){var c=a.mustNotBeEmpty?"a nonEmpty array":"an 'array'",d=a.prevContext,e=d?" where each element "+k(d,b):"";return"must be "+c+e}function k(a,b){var c=a.msg;return"function"==typeof c&&(c=c(a,b)),c}function l(a,b){if(a._context){for(var c=a._context;null!=c.prevContext;)c=c.prevContext;if(null===c.prevContext)return c.prevContext=b,a;if(null!=b.prevContext)throw new Error("Illegal construction - use 'or' to combine checks");b.prevContext=a._context}return m(a,b)}function m(a,b){return a._contexts[a._contexts.length-1]=b,a._context=b,a}function n(a){var b=a._contexts;return null==b[b.length-1]&&b.pop(),0===b.length?void 0:b.some(function(b){return b.fn(b,a.v)})}function o(a){var b=arguments,c=new RegExp("%([1-"+(arguments.length-1)+"])","g");return a.replace(c,function(a,c){return b[c]})}var p;return p=a.prototype,p.isObject=function(){return this.isTypeOf("object")},p.isBoolean=function(){return this.isTypeOf("boolean")},p.isString=function(){return this.isTypeOf("string")},p.isNonEmptyString=function(){return l(this,{fn:b,msg:"must be a nonEmpty string"})},p.isNumber=function(){return this.isTypeOf("number")},p.isFunction=function(){return this.isTypeOf("function")},p.isTypeOf=function(a){return l(this,{fn:c,typeName:a,msg:"must be a '"+a+"'"})},p.isInstanceOf=function(a,b){return b=b||a.prototype._$typeName,l(this,{fn:d,type:a,typeName:b,msg:"must be an instance of '"+b+"'"})},p.hasProperty=function(a){return l(this,{fn:e,propertyName:a,msg:"must have a '"+a+"' property"})},p.isRequired=function(a){return l(this,{fn:f,allowNull:a,msg:"is required"})},p.isOptional=function(){return l(this,{fn:g,prevContext:null,msg:h})},p.isNonEmptyArray=function(){return this.isArray(!0)},p.isArray=function(a){return l(this,{fn:i,mustNotBeEmpty:a,prevContext:null,msg:j})},p.check=function(a){var b=n(this);if(void 0!==b){if(!b)throw new Error(this.getMessage());return void 0!==this.v?this.v:a}},p.getMessage=function(){var a=this._contexts.map(function(a){return k(a,this.v)}.bind(this)).join(", or it ");return o(this.MESSAGE_PREFIX,this.name)+" "+a},p.withDefault=function(a){return this.defaultValue=a,this},p.apply=function(a){void 0!==this.v?a[this.name]=this.v:void 0!==this.defaultValue&&(a[this.name]=this.defaultValue)},p.MESSAGE_PREFIX="The '%1' parameter",a}();return a}),angular.module("acute.assert.assertConfig",["acute.assert.Param"]).factory("assertConfig",["Param",function(a){function b(a){var b=Function.call;return function(){return b.apply(a,arguments)}}function c(a,c,d){var e=b(Object.prototype.hasOwnProperty);if(!c)return a;if(d)d.forEach(function(b){a[b]=c[b]});else for(var f in c)e(c,f)&&(a[f]=c[f]);return a}var d=function(){function b(a){if("object"!=typeof a)throw new Error("Configuration parameter should be an object, instead it is a: "+typeof a);this.config=a,this.params=[]}var d;return d=b.prototype,d.whereParam=function(b){function d(a){a.forEach(function(a){a.check()})}function e(a,b){d(a),a.forEach(function(a){a.apply(b)})}var f;return f=new a(b,this.config[b]),c(f,{whereParam:function(a){return this.whereParam(a)}.bind(this),checkAll:function(){d(this.params)}.bind(this),applyAll:function(a){e(this.params,a)}.bind(this)}),f.parent=this,this.params.push(f),f},b}();return function(a){return new d(a)}}]),angular.module("acute.assert.assertParam",["acute.assert.Param"]).factory("assertParam",function(a){return function(b,c){return new a(b,c)}}),angular.module("acute.assert",["acute.assert.Param","acute.assert.assertParam","acute.assert.assertConfig"]),angular.module("acute.clientStore",[]).value("localStorage",window.localStorage).provider("clientStore",function(){var a="clientStore";this.setPrefix=function(b){a=b},this.$get=["$rootScope","localStorage",function(b,c){var d=c[a],e=d?JSON.parse(d):{};return b.$watch(function(){return e},function(){c[a]=JSON.stringify(e)},!0),e}]}),angular.module("acute.clndr",["acute.whenReady"]).constant("acuteClndrConfig",{}).provider("acuteClndrFactory",["acuteClndrConfig",function(a){var b=angular.copy(a);this.setConfig=function(a,c){b[a]=c},this.$get=function(){function a(a){return angular.extend(b,{render:a})}var c;return{create:function(b){return c=angular.element("<div/>").clndr(a(b))},getClndr:function(){return c}}}}]).controller("AcuteClndrCtrl",["$scope","whenReady","acuteClndrFactory",function(a,b,c){this.back=function(){c.getClndr().back()},this.forward=function(){c.getClndr().forward()},a.$watchCollection("events",b(function(a){c.getClndr().setEvents(a)}))}]).directive("acuteClndr",["acuteClndrFactory",function(a){return{restrict:"E",replace:!0,transclude:!0,scope:{events:"=clndrEvents"},controller:"AcuteClndrCtrl",link:function(b,c,d,e,f){f(b,function(d){c.append(d),a.create(function(a){angular.extend(b,{clndr:a})})})}}}]),angular.module("acute.filter.camelCaseToHuman",[]).filter("camelCaseToHuman",function(){return function(a){return a.charAt(0).toUpperCase()+a.substr(1).replace(/[A-Z]/g," $&")}}),angular.module("acute.filters",["acute.filter.camelCaseToHuman"]),angular.module("acute.gravatar",["acute.md5"]).factory("gravatarService",["md5",function(a){return{getImageSrc:function(b,c){var d=a.createHash(b.toLowerCase()),e=c.gravatarSecure?"https://secure":"http://www",f=c.gravatarSize||40,g=c.gravatarRating||"pg",h=c.gravatarDefault||"404";return e+".gravatar.com/avatar/"+d+"?s="+f+"&r="+g+"&d="+h}}}]).directive("acuteGravatar",["gravatarService",function(a){return{restrict:"AC",link:function(b,c,d){b.$watch(d.gravatarEmail,function(b){if(b){var e=null!==b&&void 0!==b&&""!==b,f=null!=b.match(/.*@.*\..{2}/);e&&f&&c.attr("src",a.getImageSrc(b,d))}})}}}]),angular.module("acute.httpStatus",["acute.lodash"]).value("httpStatuses",[{code:200,name:"OK"},{code:201,name:"Created"},{code:204,name:"No Content"},{code:301,name:"Moved Permanently"},{code:302,name:"Found"},{code:400,name:"Bad Request"},{code:401,name:"Unauthorized"},{code:403,name:"Forbidden"},{code:404,name:"Not Found"},{code:500,name:"Internal Server Error"},{code:503,name:"Service Unavailable"}]).service("httpStatus",["_","httpStatuses",function(_,a){this.getName=function(b){return _.find(a,function(a){return a.code===b}).name},this.getCode=function(b){return _.find(a,function(a){return a.name===b}).code}}]),angular.module("acute.lodash",[]).value("_",window._),angular.module("acute.markdown",["ngSanitize"]).provider("markdownParser",function(){var a={};return{config:function(b){a=b},$get:function(){return new Showdown.converter(a)}}}).directive("acuteMarkdown",["$sanitize","markdownParser",function(a,b){function c(c){return a(b.makeHtml(c))}function d(a){return function(b){a(b?c(b):"")}}return{restrict:"AE",link:function(a,b,e){function f(a){b.html(a)}e.acuteMarkdown?a.$watch(e.acuteMarkdown,d(f)):f(c(b.text()))}}}]),angular.module("acute.md5",[]).factory("md5",[function(){var a={createHash:function(a){var b,c,d,e,f,g,h,i,j,k,l=function(a,b){return a<<b|a>>>32-b},m=function(a,b){var c,d,e,f,g;return e=2147483648&a,f=2147483648&b,c=1073741824&a,d=1073741824&b,g=(1073741823&a)+(1073741823&b),c&d?2147483648^g^e^f:c|d?1073741824&g?3221225472^g^e^f:1073741824^g^e^f:g^e^f},n=function(a,b,c){return a&b|~a&c},o=function(a,b,c){return a&c|b&~c},p=function(a,b,c){return a^b^c},q=function(a,b,c){return b^(a|~c)},r=function(a,b,c,d,e,f,g){return a=m(a,m(m(n(b,c,d),e),g)),m(l(a,f),b)},s=function(a,b,c,d,e,f,g){return a=m(a,m(m(o(b,c,d),e),g)),m(l(a,f),b)},t=function(a,b,c,d,e,f,g){return a=m(a,m(m(p(b,c,d),e),g)),m(l(a,f),b)},u=function(a,b,c,d,e,f,g){return a=m(a,m(m(q(b,c,d),e),g)),m(l(a,f),b)},v=function(a){for(var b,c=a.length,d=c+8,e=(d-d%64)/64,f=16*(e+1),g=new Array(f-1),h=0,i=0;c>i;)b=(i-i%4)/4,h=8*(i%4),g[b]=g[b]|a.charCodeAt(i)<<h,i++;return b=(i-i%4)/4,h=8*(i%4),g[b]=g[b]|128<<h,g[f-2]=c<<3,g[f-1]=c>>>29,g},w=function(a){var b,c,d="",e="";for(c=0;3>=c;c++)b=255&a>>>8*c,e="0"+b.toString(16),d+=e.substr(e.length-2,2);return d},x=[],y=7,z=12,A=17,B=22,C=5,D=9,E=14,F=20,G=4,H=11,I=16,J=23,K=6,L=10,M=15,N=21;for(x=v(a),h=1732584193,i=4023233417,j=2562383102,k=271733878,b=x.length,c=0;b>c;c+=16)d=h,e=i,f=j,g=k,h=r(h,i,j,k,x[c+0],y,3614090360),k=r(k,h,i,j,x[c+1],z,3905402710),j=r(j,k,h,i,x[c+2],A,606105819),i=r(i,j,k,h,x[c+3],B,3250441966),h=r(h,i,j,k,x[c+4],y,4118548399),k=r(k,h,i,j,x[c+5],z,1200080426),j=r(j,k,h,i,x[c+6],A,2821735955),i=r(i,j,k,h,x[c+7],B,4249261313),h=r(h,i,j,k,x[c+8],y,1770035416),k=r(k,h,i,j,x[c+9],z,2336552879),j=r(j,k,h,i,x[c+10],A,4294925233),i=r(i,j,k,h,x[c+11],B,2304563134),h=r(h,i,j,k,x[c+12],y,1804603682),k=r(k,h,i,j,x[c+13],z,4254626195),j=r(j,k,h,i,x[c+14],A,2792965006),i=r(i,j,k,h,x[c+15],B,1236535329),h=s(h,i,j,k,x[c+1],C,4129170786),k=s(k,h,i,j,x[c+6],D,3225465664),j=s(j,k,h,i,x[c+11],E,643717713),i=s(i,j,k,h,x[c+0],F,3921069994),h=s(h,i,j,k,x[c+5],C,3593408605),k=s(k,h,i,j,x[c+10],D,38016083),j=s(j,k,h,i,x[c+15],E,3634488961),i=s(i,j,k,h,x[c+4],F,3889429448),h=s(h,i,j,k,x[c+9],C,568446438),k=s(k,h,i,j,x[c+14],D,3275163606),j=s(j,k,h,i,x[c+3],E,4107603335),i=s(i,j,k,h,x[c+8],F,1163531501),h=s(h,i,j,k,x[c+13],C,2850285829),k=s(k,h,i,j,x[c+2],D,4243563512),j=s(j,k,h,i,x[c+7],E,1735328473),i=s(i,j,k,h,x[c+12],F,2368359562),h=t(h,i,j,k,x[c+5],G,4294588738),k=t(k,h,i,j,x[c+8],H,2272392833),j=t(j,k,h,i,x[c+11],I,1839030562),i=t(i,j,k,h,x[c+14],J,4259657740),h=t(h,i,j,k,x[c+1],G,2763975236),k=t(k,h,i,j,x[c+4],H,1272893353),j=t(j,k,h,i,x[c+7],I,4139469664),i=t(i,j,k,h,x[c+10],J,3200236656),h=t(h,i,j,k,x[c+13],G,681279174),k=t(k,h,i,j,x[c+0],H,3936430074),j=t(j,k,h,i,x[c+3],I,3572445317),i=t(i,j,k,h,x[c+6],J,76029189),h=t(h,i,j,k,x[c+9],G,3654602809),k=t(k,h,i,j,x[c+12],H,3873151461),j=t(j,k,h,i,x[c+15],I,530742520),i=t(i,j,k,h,x[c+2],J,3299628645),h=u(h,i,j,k,x[c+0],K,4096336452),k=u(k,h,i,j,x[c+7],L,1126891415),j=u(j,k,h,i,x[c+14],M,2878612391),i=u(i,j,k,h,x[c+5],N,4237533241),h=u(h,i,j,k,x[c+12],K,1700485571),k=u(k,h,i,j,x[c+3],L,2399980690),j=u(j,k,h,i,x[c+10],M,4293915773),i=u(i,j,k,h,x[c+1],N,2240044497),h=u(h,i,j,k,x[c+8],K,1873313359),k=u(k,h,i,j,x[c+15],L,4264355552),j=u(j,k,h,i,x[c+6],M,2734768916),i=u(i,j,k,h,x[c+13],N,1309151649),h=u(h,i,j,k,x[c+4],K,4149444226),k=u(k,h,i,j,x[c+11],L,3174756917),j=u(j,k,h,i,x[c+2],M,718787259),i=u(i,j,k,h,x[c+9],N,3951481745),h=m(h,d),i=m(i,e),j=m(j,f),k=m(k,g);var O=w(h)+w(i)+w(j)+w(k);return O.toLowerCase()}};return a}]),angular.module("acute.moment",[]).value("moment",window.moment).filter("moment",[function(){return function(a,b){return a.format(b)}}]),angular.module("acute.popover",["ng","acute.tooltip"]).provider("$popoverDirective",function(){this.$get=["$timeout","$tooltipConfig","$tooltip",function(a,b,c){return function(d,e){return{restrict:"EA",scope:{content:"@"+d,tether:"=?"+d+"Tether"},link:function(d,f){function g(b){return function(){a.cancel(k),(b||angular.noop)()}}function h(){d.$apply(m.open)}function i(b){return function(){k=a(function(){(b||angular.noop)()},l)}}function j(){d.$apply(m.close)}var k,l=50,m=c(b(d,f,e)),n=m.element;f.on("mouseenter",g(h)).on("mouseleave",i(j)),n.on("mouseenter",g()).on("mouseleave",i(j))}}}}]}).directive("acutePopover",["$popoverDirective",function(a){return a("acutePopover")}]).run(["$templateCache",function(a){a.put("template/acute-popover.html",'<div class="acute-popover">{{content}}</div>')}]),angular.module("acute.session",["acute.clientStore"]).provider("session",function(){var a="session";this.setCacheKey=function(b){a=b},this.$get=["clientStore",function(b){function c(){b[a]=b[a]||{}}return c(),Object.create({},{token:{get:function(){return b[a].token},set:function(c){b[a].token=c}},user:{get:function(){return b[a].user},set:function(c){b[a].user=c}},isActive:{value:function(){return angular.isDefined(this.token)}},create:{value:function(a,b){this.token=a,this.user=b}},invalidate:{value:function(){this.token=void 0,this.user=void 0}}})}]}),angular.module("acute.string",["acute.string.toCamelCase","acute.string.toHyphenated","acute.string.toDotNotation"]),angular.module("acute.string.utils",[]).service("~normalizeAndSeparate",function(){function a(a){return a.replace(/([a-z\d])([A-Z])/g,"$1-$2")}function b(a){return a.split(" ").join("-")}function c(a,b){return a.replace(/\W/g,b)}return function(d,e){var f;return f=a(d),f=b(f),f=c(f,e),f.toLowerCase()}}),angular.module("acute.string.toCamelCase",["acute.string.utils"]).factory("stringToCamelCase",["~normalizeAndSeparate",function(a){function b(a){return a.toLowerCase().replace(/-(.)/g,function(a,b){return b.toUpperCase()})}return function(c){return b(a(c,"-"))}}]),angular.module("acute.string.toDotNotation",["acute.string.utils"]).factory("stringToDotNotation",["~normalizeAndSeparate",function(a){return function(b){return a(b,".")}}]),angular.module("acute.string.toHyphenated",["acute.string.utils"]).factory("stringToHyphenated",["~normalizeAndSeparate",function(a){return function(b){return a(b,"-")}}]),angular.module("acute.tether",["ng"]).factory("$tether",["$window",function(a){return function(b){return new a.Tether(b)}}]),angular.module("acute.tooltip",["ng","acute.tether"]).value("$tooltipConfig",function(a,b,c){var d=angular.copy(c,{});return angular.extend(a,d.scope),delete d.scope,angular.extend({target:b,scope:a},d,{tether:a.tether})}).provider("$tooltip",function(){var a="template/acute-tooltip.html";this.setDefaultTemplateUrl=function(b){a=b};var b={attachment:"top middle",targetAttachment:"bottom middle"};this.setDefaultTetherOptions=function(a){angular.extend(b,a)},this.$get=["$rootScope","$animate","$compile","$templateCache","$tether",function(c,d,e,f,g){return function(h){function i(){return h.template||f.get(h.templateUrl)}function j(){return h.scope||c.$new()}function k(){var a=angular.extend({element:p,target:h.target},h.tether);q=g(a)}function l(){q&&q.destroy()}function m(){d.enter(p,null,h.target),k()}function n(){d.leave(p),l()}var o,p,q;return h=angular.extend({templateUrl:a},h),h.tether=angular.extend(b,h.tether),o=j(),p=e(i())(o),o.$on("$destroy",n),{element:p,open:m,close:n}}}]}).provider("$tooltipDirective",function(){this.$get=["$tooltipConfig","$tooltip",function(a,b){return function(c,d){return{restrict:"EA",scope:{content:"@"+c,tether:"=?"+c+"Tether"},link:function(c,e){function f(){c.$apply(h.open)}function g(){c.$apply(h.close)}var h=b(a(c,e,d));e.on("mouseenter",f),e.on("mouseleave",g)}}}}]}).directive("acuteTooltip",["$tooltipDirective",function(a){return a("acuteTooltip")}]).run(["$templateCache",function(a){a.put("template/acute-tooltip.html",'<div class="acute-tooltip">{{content}}</div>')}]),angular.module("acute.whenReady",[]).value("whenReady",function(a){return function(b,c){b!==c&&a(b,c)}})}();
//# sourceMappingURL=acute.min.js.map